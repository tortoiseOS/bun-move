version: '3'

tasks:
  all:
    desc: Run all tests (TypeScript + Move)
    cmds:
      - task: ts
      - task: move

  ts:
    desc: Run TypeScript tests
    cmds:
      - echo "ðŸ§ª Running TypeScript tests..."
      - bun test packages/core packages/sdk packages/ai-integration
      - echo "âœ… TypeScript tests passed"

  move:
    desc: Run Move tests
    cmds:
      - echo "ðŸ§ª Running Move tests..."
      - find packages/move -name "Move.toml" -execdir sui move test \;
      - echo "âœ… Move tests passed"

  e2e:
    desc: Run end-to-end tests
    cmds:
      - echo "ðŸ§ª Running E2E tests..."
      - bun test tests/e2e
      - echo "âœ… E2E tests passed"

  watch:
    desc: Run TypeScript tests in watch mode
    cmds:
      - bun test --watch packages/core packages/sdk

  coverage:
    desc: Generate test coverage report
    cmds:
      - echo "ðŸ“Š Generating coverage report..."
      - bun test --coverage packages/core packages/sdk
      - echo "âœ… Coverage report generated"
