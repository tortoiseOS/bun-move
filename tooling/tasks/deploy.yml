version: '3'

tasks:
  localnet:
    desc: Deploy to local Sui network
    cmds:
      - echo "ğŸš€ Deploying to localnet..."
      - export SUI_NETWORK=localnet
      - task: move:deploy
      - echo "âœ… Deployed to localnet"

  devnet:
    desc: Deploy to Sui devnet
    cmds:
      - echo "ğŸš€ Deploying to devnet..."
      - export SUI_NETWORK=devnet
      - task: move:deploy
      - echo "âœ… Deployed to devnet"

  testnet:
    desc: Deploy to Sui testnet
    cmds:
      - echo "ğŸš€ Deploying to testnet..."
      - export SUI_NETWORK=testnet
      - task: move:deploy
      - echo "âœ… Deployed to testnet"

  mainnet:
    desc: Deploy to Sui mainnet (PRODUCTION)
    cmds:
      - |
        echo "âš ï¸  WARNING - Deploying to MAINNET"
        read -p "Are you sure? (yes/no) " -r
        if [[ $REPLY == "yes" ]]; then
          export SUI_NETWORK=mainnet
          task move:deploy
          echo "âœ… Deployed to mainnet"
        else
          echo "âŒ Deployment cancelled"
        fi

  verify:
    desc: Verify deployed contracts on network
    cmds:
      - echo "ğŸ” Verifying deployed contracts..."
      - sui client objects --json | jq '.[] | select(.type | contains("Package"))'
      - echo "âœ… Verification complete"
